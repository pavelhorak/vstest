<h3>vstest repo issues</h3>

<div id="github-issues"></div>
<style>
body {
    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
    font-size: 14px;
    line-height: 1.5;
    color: #24292e;
    background-color: #fff;
}
a {
    color: #000000;
    text-decoration: none;
}
.avatar {
    display: inline-block;
    overflow: hidden;
    line-height: 1;
    vertical-align: middle;
    border-radius: 6px;
}
</style>

<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.js"></script>
<script>
    var urlToGetAllOpenBugs = "https://api.github.com/repos/microsoft/vstest/issues?state=open&milestone=34";
    $(document).ready(function () {
        $.getJSON(urlToGetAllOpenBugs, function (allIssues) {
            $("div#github-issues").append("There are " + allIssues.length + " outstanding issues:</br>");
            $.each(allIssues, function (i, issue) {
                // Get assignee (if applicable)
                var assigneeName = "Unassigned";
                var avatar_url = "";
                if (issue.assignee) {
                    assigneeName = issue.assignee.login;
                    avatar_url = issue.assignee.avatar_url + "&s=40";
                }
                // Calculate number of days ago created
                var today = new Date();
                var timeDifference = today - Date.parse(issue.created_at);
                var daysAgo = (timeDifference / (1000 * 3600 * 24)).toFixed();
                $("div#github-issues")
                    .append("<div style=\"margin-bottom:20px;\">")
                    .append("<strong><a href=\"" + issue.html_url + "\">" + issue.title + "</a></strong></br>")
                    .append("#" + issue.number + " opened " + daysAgo + " days ago by " + issue.user.login + "</br>")
                    .append("<img class="avatar" src='" + avatar_url + "' width="20" height="20" alt='"+assigneeName+"'/>")
                    .append("</div>");
            });
        });
    });
</script>
